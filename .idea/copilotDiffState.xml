<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/TIMING_QUICK_REF.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/TIMING_QUICK_REF.md" />
              <option name="updatedContent" value="# 计时功能快速参考&#10;&#10;## 快速开始&#10;&#10;```python&#10;from app.vpr import predictor&#10;&#10;# 所有方法自动计时，正常使用即可&#10;predictor.recognition(&quot;audio.wav&quot;)&#10;predictor.predict(&quot;audio.wav&quot;)&#10;&#10;# 查看统计&#10;predictor.print_timing_stats()&#10;```&#10;&#10;## 常用命令&#10;&#10;### 打印统计表格&#10;```python&#10;predictor.print_timing_stats()&#10;```&#10;&#10;### 获取原始数据&#10;```python&#10;stats = predictor.get_timing_stats()&#10;print(stats['recognition'])  # {'count': 5, 'total_time': 0.122, 'min_time': 0.023, ...}&#10;```&#10;&#10;### 重置统计&#10;```python&#10;predictor.reset_timing_stats()&#10;```&#10;&#10;### 获取特定方法的平均时间&#10;```python&#10;stats = predictor.get_timing_stats()&#10;if 'recognition' in stats:&#10;    avg_ms = (stats['recognition']['total_time'] / stats['recognition']['count']) * 1000&#10;    print(f&quot;平均识别时间: {avg_ms:.2f} ms&quot;)&#10;```&#10;&#10;## 统计数据结构&#10;&#10;```python&#10;{&#10;    'method_name': {&#10;        'count': 10,           # 调用次数&#10;        'total_time': 0.250,   # 总时间（秒）&#10;        'min_time': 0.022,     # 最小时间（秒）&#10;        'max_time': 0.035,     # 最大时间（秒）&#10;        'last_time': 0.025     # 最后一次（秒）&#10;    }&#10;}&#10;```&#10;&#10;## 测试文件&#10;&#10;```bash&#10;# 计时功能演示&#10;python test_timing_demo.py&#10;&#10;# 本地功能测试（含计时统计）&#10;python test_predictor_local.py&#10;```&#10;&#10;## 性能参考（CPU模式）&#10;&#10;| 方法 | 平均耗时 |&#10;|------|---------|&#10;| `get_users()` | &lt; 0.01 ms |&#10;| `predict()` | ~30 ms |&#10;| `recognition()` | ~25 ms |&#10;| `contrast()` | ~45 ms |&#10;| `register()` | ~26 ms |&#10;&#10;## 日志示例&#10;&#10;```&#10;2025-11-02 18:34:00.550  INFO  ⏱️  predict 执行时间: 32.56 ms (0.032561 s)&#10;2025-11-02 18:34:00.597  INFO  ⏱️  contrast 执行时间: 45.81 ms (0.045815 s)&#10;2025-11-02 18:34:00.624  INFO  ⏱️  register 执行时间: 25.82 ms (0.025817 s)&#10;```&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>